# Required Telegram API credentials
# Get these from https://my.telegram.org/apps
TELEGRAM_API_ID=your_api_id_here
TELEGRAM_API_HASH=your_api_hash_here
TELEGRAM_PHONE=+1234567890

# Backup schedule (cron format: minute hour day month weekday)
# Examples:
#   0 */6 * * *    = Every 6 hours
#   0 0 * * *      = Daily at midnight
#   0 */1 * * *    = Every hour
SCHEDULE=0 */6 * * *

# Backup destination path (inside container)
BACKUP_PATH=/data/backups

# Download media files (photos, videos, documents)
# Set to false to save space and only backup text messages
DOWNLOAD_MEDIA=true

# Maximum media file size to download (in MB)
# Files larger than this will be skipped
MAX_MEDIA_SIZE_MB=4096

# Batch size for database insertions and progress logging
# Higher values = faster but more memory usage
# Default: 100
# Batch size for database insertions and progress logging
# Higher values = faster but more memory usage
# Default: 100
BATCH_SIZE=100

# Sync deletions and edits (Optional)
# Set to true to mirror deletions and edits from Telegram
# WARNING: This is expensive and slow as it checks every message
# Default: false
SYNC_DELETIONS_EDITS=false

# Media verification mode (Optional)
# When enabled, checks all media files on disk after each backup
# Re-downloads any missing or corrupted files from Telegram
# Useful for recovering from interrupted backups or accidentally deleted media
# Default: false
VERIFY_MEDIA=false

# ==============================================================================
# CHAT FILTERING - Choose ONE mode
# ==============================================================================

# -----------------------------------------------------------------------------
# MODE 1: WHITELIST (Simple) - Set CHAT_IDS to backup ONLY specific chats
# -----------------------------------------------------------------------------
# When set, ONLY these chats are backed up. All other settings are ignored.
# Example: CHAT_IDS=-1001234567890,-1009876543210
CHAT_IDS=

# -----------------------------------------------------------------------------
# MODE 2: TYPE-BASED (Default) - Use CHAT_TYPES to backup by type
# -----------------------------------------------------------------------------
# Options: private, groups, channels (comma-separated)
# Example: CHAT_TYPES=private,groups (everything except channels)
CHAT_TYPES=private,groups,channels

# EXCLUDE specific chats (blacklist - takes priority)
GLOBAL_EXCLUDE_CHAT_IDS=
PRIVATE_EXCLUDE_CHAT_IDS=
GROUPS_EXCLUDE_CHAT_IDS=
CHANNELS_EXCLUDE_CHAT_IDS=

# INCLUDE additional chats (additive - adds to what CHAT_TYPES already includes)
# Note: These ADD to the selection, they don't restrict it.
# For exclusive selection, use CHAT_IDS mode instead.
GLOBAL_INCLUDE_CHAT_IDS=
PRIVATE_INCLUDE_CHAT_IDS=
GROUPS_INCLUDE_CHAT_IDS=
CHANNELS_INCLUDE_CHAT_IDS=

# Examples:
# 1. Backup ONLY these 2 channels (nothing else):
#    CHAT_IDS=-1001234567890,-1009876543210
#
# 2. Backup all groups except one:
#    CHAT_TYPES=groups
#    GROUPS_EXCLUDE_CHAT_IDS=-123456789
#
# 3. Backup all groups PLUS one specific channel:
#    CHAT_TYPES=groups
#    CHANNELS_INCLUDE_CHAT_IDS=-1001234567890


# Logging level
# Options: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Session name (for multiple accounts, use different names)
SESSION_NAME=telegram_backup

# Session directory (defaults to /data/session)
# The session file is stored separately from backup data for better organization
# SESSION_DIR=/data/session

# Database directory (optional)
# Store the SQLite database in a separate location (e.g., on SSD)
# Default: same as BACKUP_PATH
# DATABASE_DIR=/data/database

# ================================
# Display Chat IDs (Viewer Restriction)
# ================================
# Restrict the web viewer to show only specific chats
# Useful for sharing public channel viewers without exposing other chats
# Comma-separated list of chat IDs (e.g., 224091347,-100123456789)
# DISPLAY_CHAT_IDS=

# ================================
# Database Configuration (v3.0+)
# ================================
# Telegram Archive supports multiple database backends:
# - SQLite (default): Simple, no setup required
# - PostgreSQL: Better for high-traffic deployments

# Option 1: Use DATABASE_URL (takes priority)
# SQLite example:
# DATABASE_URL=sqlite:///data/telegram_backup.db
# PostgreSQL example:
# DATABASE_URL=postgresql://user:password@localhost:5432/telegram_backup

# Option 2: Use individual settings (v2 DATABASE_PATH/DATABASE_DIR also supported)
# DB_TYPE: sqlite (default) or postgresql
DB_TYPE=sqlite

# SQLite settings (when DB_TYPE=sqlite)
# DB_PATH: Path to SQLite database file
DB_PATH=data/telegram_backup.db

# PostgreSQL settings (when DB_TYPE=postgresql)
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_USER=telegram
# POSTGRES_PASSWORD=your_secure_password
# POSTGRES_DB=telegram_backup

# Enable SQL query logging (for debugging)
# DB_ECHO=false
